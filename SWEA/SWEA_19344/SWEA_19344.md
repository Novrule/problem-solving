# SWEA_19344 - 물품보관

## 문제

일직선으로 N개의 칸으로 구성된 물품을 보관하는 장소가 있고, 각 칸은 왼쪽부터 1부터 N까지의 번호가 매겨져 있다.

각 칸의 가로 길이는 1이다. 보관하는 물품 또한 모두 가로 1, 높이 1의 크기를 가진다.

물품을 보관할 시 각 칸에 맞춰 보관되고 물품을 물품 위에 쌓아 놓는 것도 가능하다.

비가 오면 물품이 비에 맞지 않도록 보호 천막을 만들어야 한다.

보호 천막의 재질이 특별해서 보호 천막은 위에서 아래로 덮을 수 있지만 위에서 아래로 덮은 후 다시 위로 덮을 수 없다.  
따라서, 물품이 쌓여 있는 가장 높은 지점부터 왼쪽 또는 오른쪽 방향으로  
차례대로 그 지점으로부터 그 다음 높은 지점의 높이로 보호 천막을 덮어 나아간다.

이때 필요한 보호 천막 크기는 보호 천막으로 덮인 아래 부분의 면적이 된다.

물품이 입고할 수도 있고 출고할 수도 있다. 또한 물품이 입고/출고할 때마다 필요한 보호 천막의 크기를 계산한다.

mLoc 위치에 물품 mBox개가 입고된다면 물품 보관 장소의 mLoc 칸에 물품이 위로 mBox개 더 쌓이게 된다.

mLoc 위치에 물품 mBox개가 출고된다면 물품 보관 장소의 mLoc 칸에 물품이 위에서부터 mBox개 제거된다.

이와 같은 물품 보관을 시뮬레이션하는 프로그램을 작성하라.

## 입력

입력은 제공되는 Main 부분의 코드에서 처리하므로 User Code 부분의 코드에서는 별도로 입력을 처리하지 않는다.

## 출력

출력은 제공되는 Main 부분의 코드에서 처리하므로 User Code 부분의 코드에서는 별도로 출력을 처리하지 않는다.

## 예제 입력

```
1
15
100 8
200 3 4 4
300 3 4 0
400 3 0
200 5 2 2
200 7 3 7
200 1 1 11
200 3 3 17
200 8 1 18
200 4 5 20
200 7 3 27
400 7 6
300 4 3 21
300 7 3 18
400 4 2
```

## 예제 출력

```
#1 100
```

## 문제 풀이

문제의 조건에 맞게 세그먼트 트리를 구성해서 사용하면 되는 문제이다.

이를 코드로 구현하기 위해 세그먼트 트리에서 최대값을 구해주는 `getMaximum` 함수,  
특정 인덱스로부터 왼쪽에 있는 값 중 가장 큰 값의 위치를 구해주는 `getLeft` 함수,  
이와 비슷하게 특정 인덱스로부터 오른쪽에 있는 값 중 가장 큰 값의 위치를 구해주는 `getRight` 함수,  
`getLeft` 함수와 `getRight` 함수를 이용해 필요한 보호 천막의 크기를 구해주는 `getAns` 함수를 구현해주었다.

그리고 이 함수를 이용해 세그먼트 트리를 초기화해주는 `init` 함수,  
특정 위치에 물품을 더하고 빼주는 `stock` 함수와 `ship` 함수,  
특정 위치에 있는 물품의 개수를 구해주는 `getHeight` 함수를 문제의 조건에 맞게 구현해주었다.
