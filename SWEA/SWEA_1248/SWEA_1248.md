# SWEA_1248 - 공통조상

## 문제

이진 트리에서 임의의 두 정점의 가장 가까운 공통 조상을 찾고, 그 정점을 루트로 하는 서브 트리의 크기를 알아내는 프로그램을 작성하라.

## 입력

가장 첫 번째 줄에 테스트케이스의 수가 주어진다.

각 케이스의 첫 번째 줄에는 정점의 개수 V(10 ≤ V ≤ 10000)와 간선의 개수 E, 공통 조상을 찾는 두 개의 정점 번호가 주어진다.

각 케이스의 두 번째 줄에는 E개 간선이 나열된다. 간선은 항상 “부모 자식” 순서로 표기된다.

정점의 번호는 1부터 V까지의 정수이며, 루트 정점은 항상 1번이다.

## 출력

각 테스트케이스마다 '#t'(t는 테스트케이스 번호를 의미하며 1부터 시작한다)를 출력하고,  
가장 가까운 공통 조상의 번호와 그것을 루트로 하는 서브 트리의 크기를 공백으로 구분하여 출력하라.

## 예제 입력

```
1
13 12 8 13
1 2 1 3 2 4 3 5 3 6 4 7 7 12 5 9 5 8 6 10 6 11 11 13
```

## 예제 출력

```
#1 3 8
```

## 문제 풀이

공통 조상을 찾기 위해서는 먼저 두 노드의 깊이를 맞춰줘야 한다.  
따라서 깊이가 다르다면 깊이가 깊은 노드의 부모를 찾아가면서 깊이를 맞춰줘야 한다.  
그렇게 깊이를 같게 해주었다면, 두 노드가 같아질 때까지 부모를 찾아주면 공통 조상을 찾을 수 있게 된다.

이를 코드로 구현하기 위해서 구조체와 포인터를 이용해 `node` 구조체를 구현해주었고,  
`input` 함수에서 입력을 받아준 다음에 앞에서 만든 `node` 구조체를 이용해 트리를 구성해주었다.  
그리고 `getDepth` 함수에서 재귀를 사용한 전위순회를 하며 각 노드의 깊이를 구해서 저장해주었으며,  
앞에서 설명한 것과 같은 방식으로 `getParent` 함수를 통해 공통 조상을 구해주었다.

그 후, 재귀를 통한 중위순회를 하며 공통 조상을 루트로 하는 트리의 크기를 구해주는 `inorder` 함수를 구현해주었고,  
`output` 함수를 통해 조건에 맞는 답을 출력할 수 있도록 해주었다.
