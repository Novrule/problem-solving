# SWEA_3000 - 중간값 구하기

## 문제

심심해하던 홍준이에게 어떤 문제를 줄 지 고민하던 경근이는 다음과 같은 문제를 생각하였다.

경근이가 처음에 한 개의 자연수를 공책에 적는다.

그 후, N번에 걸쳐서 자연수 2개씩을 추가적으로 공책에 적는다.

이 때, 홍준이는 경근이가 수 2개를 추가적으로 적을 때마다 지금까지 적은 수 중에 크기가 중간인 수를 알려주어야 한다.

예를 들어, 처음에 경근이가 5를 공책에 쓰고, 1과 3, 2와 6, 8과 9를 공책에 썼다고 가정하자.

자연수 1과 3을 공책에 썼을 때에는, 이전까지 적은 수가 [1, 3, 5]이고, 이 중 크기가 중간인 수는 3이다.

자연수 2과 6을 공책에 썼을 때에는, 이전까지 적은 수가 [1, 2, 3, 5, 6]이고, 이 중 크기가 중간인 수는 3이다.

자연수 8과 9를 공책에 썼을 때에는, 이전까지 적은 수가 [1, 2, 3, 5, 6, 8, 9]이고, 이 중 크기가 중간인 수는 5이다.

N개의 중간값들을 매번 출력하면 출력양이 너무 많기 때문에, 그 수들의 합을 20171109로 나눈 나머지를 출력하는 프로그램을 작성하시오.

## 입력

첫 줄에 테스트케이스의 개수 T가 주어진다. (1 ≤ T ≤ 10)

각 테스트 케이스의 첫 번째 줄에 N(1 ≤ N ≤ 200,000)과 경근이가 처음에 공책에 쓴 자연수 A가 주어진다.

이후 N개의 줄에 걸쳐서, 경근이가 공책에 쓴 자연수 2개를 나타내는 X와 Y가 순서대로 주어진다.

경근이가 공책에 쓰는 자연수는 1 이상 $10^{9}$ 이하이다.

## 출력

각 테스트케이스마다 한 줄에 걸쳐, "#x" (x는 테스트케이스 번호를 의미하며 1부터 시작한다)를 출력하고,  
N개의 중간값을 모두 더한 값을 20171109로 나눈 나머지를 출력한다.

## 예제 입력

```
1
3 5
1 3
2 6
8 9
```

## 예제 출력

```
#1 11
```

## 문제 풀이

만약 5를 입력받고 1과 3, 2와 6, 8과 9를 입력받았다고 가정해보자.

그렇다면 맨 처음 5를 입력받았을 때의 중간값은 당연하게도 5가 될 것이다.  
그 후, 1과 3을 입력받게 되면 1과 3 모두 현재의 중간값인 5보다 작으므로 중간값보다 작은 그룹에 넣어주고,  
중간값보다 작은 그룹이 중간값보다 큰 그룹보다 크기가 크기 때문에  
중간값보다 작은 그룹에서 가장 큰 원소인 3을 중간값으로 올려주고 이전의 중간값이었던 5를 중간값보다 큰 그룹에 넣어주면 된다.

그 다음 2와 6을 입력받게 되면 현재의 중간값은 3이므로 2는 중간값보다 작은 그룹에, 6은 중간값보다 큰 그룹에 넣어주고,  
중간값보다 작은 그룹과 중간값보다 큰 그룹의 크기가 같으므로 중간값을 그대로 유지해주면 된다.

그리고 8과 9를 입력받으면 현재의 중간값은 3이고 8과 9 모두 중간값보다 크기에 둘 다 중간값보다 큰 그룹에 넣어주고,  
이러면 중간값보다 큰 그룹이 중간값보다 작은 그룹보다 크기가 크게 되므로  
중간값보다 큰 그룹에서 가장 작은 원소인 8을 중간값으로 올려주고 이전의 중간값이었던 3을 중간값보다 작은 그룹에 넣어주면 된다.

이와 같은 방법으로 입력받은 수들을 중간값보다 작은 그룹과 중간값보다 큰 그룹으로 나누어주고,  
두 그룹의 크기를 같게 만들어주는 방식으로 중간값을 구할 수 있게 된다.

이를 코드로 구현하기 위해서 중간값을 저장하는 `mid` 변수를 선언해준 후,  
중간값보다 작은 그룹을 저장하는 우선순위 큐인 `front`는 가장 큰 원소를 찾을 수 있어야 하므로 오름차순으로 정렬해주었고,  
중간값보다 큰 그룹을 저장하는 우선순위 큐인 `back`은 가장 작은 원소를 찾을 수 있어야 하므로 내림차순으로 정렬해주었다.
그리고 앞에서 설명한 것과 같은 방식으로 중간값을 구할 수 있도록 해주었다.
