# SWEA_19340 - 상품권배분

## 문제

N개의 그룹마다 여러 부서가 하나의 트리로 구성된다.

부서는 ID와 소속 인원 수를 가지고, 최대 3개의 하위 부서를 갖는다.

N개의 그룹에 인원 수대로 상품권을 나누어 주려고 한다. 상품권의 총 개수는 K개이다. 배분 규칙은 다음과 같다.

1. 총 인원수가 K 이하인 경우, 각 그룹의 인원 수대로 상품권을 나누어 준다.
2. 총 인원수가 K보다 큰 경우, 상한 개수 L을 정한다. 그룹의 인원 수가 L 이하인 경우에는 그룹의 인원 수대로 상품권을 주고,  
   그룹의 인원 수가 L을 초과하는 경우에는 L개의 상품권을 준다.

K개 내에서 최대한 많은 상품권을 나누어 주었을 때, 각 그룹에 배분된 상품권 개수 중에서 가장 큰 값을 구해야 한다.

## 입력

입력은 제공되는 Main 부분의 코드에서 처리하므로 User Code 부분의 코드에서는 별도로 입력을 처리하지 않는다.

## 출력

출력은 제공되는 Main 부분의 코드에서 처리하므로 User Code 부분의 코드에서는 별도로 출력을 처리하지 않는다.

## 예제 입력

```
1
12
1 3
7 25
4 5
2 40
2 3 5 4 10
2 9 5 7 30
2 1 15 4 25
2 8 10 1 25
4 100 35
2 6 20 4 55
4 109 39
2 5 20 9 25
4 131 45
3 1 25
4 110 40
```

## 예제 출력

```
#1 100
```

## 문제 풀이

문제에서 주어진 조건에 맞춰 트리를 구성한 후 이분 탐색을 사용해 배분할 상품권의 최대값을 구해주면 되는 문제이다.

이를 코드로 구현하기 위해서 우선 그룹의 정보를 저장할 `Node` 구조체를 구현해주었다.  
그리고 그룹의 ID가 매우 크므로 이를 압축해줄 `compress` 함수를 구현해주었고,  
특정 그룹을 삭제할 때 해당 그룹의 상위 그룹에 이를 반영해주는 `removeParent` 함수,  
마찬가지로 특정 그룹을 삭제할 때 하위 그룹에 이를 반영해주는 `removeChild` 함수를 구현해주었으며,  
이분 탐색을 통해서 배분할 상품권의 최대값을 구해주는 `binarySearch` 함수를 구현해주었다.

그리고 이 함수들을 이용해 트리를 초기화해주고 최상위 그룹을 트리에 넣어주는 `init` 함수,  
트리에 새로운 그룹을 추가해주고 삭제해주는 `add` 함수와 `remove` 함수,  
배분할 상품권의 최대값을 구해주는 `distribute` 함수를 문제의 조건에 맞게 구현해주었다.
