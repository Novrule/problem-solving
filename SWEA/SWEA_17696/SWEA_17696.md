# SWEA_17696 - 블록쌓기게임

## 문제

위에서 아래로 블록들을 떨어뜨려서 격자판 밑부분에 블록들을 쌓는 게임을 시뮬레이션 하려고 한다.

게임이 시작되면 블록들을 떨어뜨릴 격자판이 주어지는데 이 격자판의 행의 개수는 10,000개이고, 열의 개수가 C개이다.

블록들을 떨어뜨릴 때마다 떨어뜨리는 가로 위치 정보인 mCol와 떨어뜨리는 블록의 개수를 알려주는 mHeight와 mLength 정보가 주어진다.

떨어뜨리는 블록의 개수는 mHeight \* mLength 이며, 블록들이 직사각형 모양이 형성되도록 위치시킨 후 떨어뜨린다.

블록들로 이루어진 직사각형은 높이가 mHeight이고, 길이가 mLength가 된다.

블록들이 떨어져서 쌓이고 삭제되는 블록 쌓기 게임을 시뮬레이션 할 수 있는 프로그램을 작성하라.

## 입력

입력은 제공되는 Main 부분의 코드에서 처리하므로 User Code 부분의 코드에서는 별도로 입력을 처리하지 않는다.

## 출력

출력은 제공되는 Main 부분의 코드에서 처리하므로 User Code 부분의 코드에서는 별도로 출력을 처리하지 않는다.

## 예제 입력

```
1
13
100 15
200 0 1 5 1 5
200 3 2 4 3 13
200 2 1 6 4 19
200 7 2 8 3 20
200 0 3 15 3 20
200 5 1 10 3 30
200 8 1 7 3 37
200 0 2 3 1 13
200 0 1 2 0 0
200 0 2 15 0 0
200 1 3 13 3 39
200 2 3 4 6 51
```

## 예제 출력

```
#1 100
```

## 문제 풀이

문제의 조건에 따르면 한 줄이 블록으로 꽉 차게 되면 그 줄에 있는 블록을 모두 지워야 한다.  
또한, 우리는 블록의 최대 높이와 블록의 총 개수를 구해야 한다.

그런데 이를 다르게 생각해 보면, 블록을 실제로 지우지 않고  
높이의 최대값과 최소값을 구해 빼주면 이 것이 블록의 최대 높이와 같게 된다.  
그리고 블록의 총 개수는 블록의 누적합을 구한 후, 여기에 한 줄의 크기와 블록의 최소 높이를 곱해 빼주면 된다.

이를 코드로 구현하기 위해 느리게 업데이트되는 최소, 최대 세그먼트 트리를 사용해야 했다.  
그래서 우선 임시로 저장한 값을 세그먼트 트리에 적용해주는 `updateLazy` 함수와  
세그먼트 트리의 값을 업데이트해주는 `updateTree` 함수를 구현해주었다.

그 후, 최대, 최소 세그먼트 트리를 초기화해주는 `init` 함수,  
앞에서 설명한 것과 같은 방식으로 가장 높은 블록의 높이와 블록의 개수를 구해주는 `dropBlocks` 함수를 문제의 조건에 맞게 구현해주었다.
